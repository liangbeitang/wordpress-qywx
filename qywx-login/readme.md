# 企业微信登录插件

## 一、插件概述
企业微信登录插件为 WordPress 网站提供了使用企业微信扫码登录的功能。用户可以通过扫描企业微信二维码快速登录到 WordPress 网站，同时插件支持部门架构和用户信息的同步，方便企业进行用户管理。

## 二、功能特性
1. **企业微信扫码登录**：支持用户使用企业微信扫码快速登录 WordPress 网站。
2. **部门架构同步**：可将企业微信的部门架构同步到 WordPress 系统中。
3. **用户信息同步**：实现企业微信用户信息与 WordPress 用户信息的同步。
4. **密码管理**：支持禁用用户在 WordPress 后台修改密码的功能。
5. **多语言支持**：提供中文语言包，方便国内用户使用。

## 三、安装步骤
1. **下载插件**：从 [www.liangbeitang.com] 下载插件压缩包。
2. **上传插件**：登录 WordPress 后台，导航到“插件” -> “添加新插件”，点击“上传插件”，选择下载的插件压缩包进行上传。
3. **激活插件**：上传完成后，点击“激活插件”按钮，激活企业微信登录插件。

## 四、配置说明
### 1. 基本设置
- 登录 WordPress 后台，点击左侧菜单中的“企业微信登录”。
- 在设置页面中，输入企业微信的 `CorpID` 和 `Secret`，这些信息可以在企业微信管理后台获取。
- 设置用户名字段映射规则，指定企业微信字段与 WordPress 用户名的映射关系。
- 选择新用户注册时默认分配的用户组。
- 可选择是否禁用用户在 WordPress 后台修改密码的功能。

### 2. 同步设置
- 在“同步部门”子菜单中，点击“立即同步部门架构”按钮，可手动同步企业微信的部门架构和用户信息到 WordPress 系统。
- 建议通过 WP - Cron 每日自动执行同步操作，以保持数据的最新状态。

## 五、使用方法
### 1. 企业微信扫码登录
- 未登录的用户访问网站时，会被重定向到企业微信扫码登录页面。
- 使用企业微信扫描页面上的二维码，完成登录操作。

### 2. 用户信息同步
- 管理员可在后台手动触发部门架构和用户信息的同步，确保 WordPress 系统中的用户信息与企业微信保持一致。

## 六、常见问题解答
### 1. 无法获取访问令牌怎么办？
- 检查企业微信的 `CorpID` 和 `Secret` 是否输入正确。
- 检查网络连接是否正常，确保可以访问企业微信 API。

### 2. 同步失败如何处理？
- 检查配置信息是否正确，包括 `CorpID`、`Secret` 等。
- 检查网络连接，确保可以正常访问企业微信服务器。
- 查看错误日志，根据日志信息排查问题。

### 3. 用户登录后没有显示正确的用户信息怎么办？
- 尝试手动同步用户信息，确保 WordPress 系统中的用户信息是最新的。
- 检查用户名字段映射规则是否正确。

## 七、技术支持
如果在使用过程中遇到任何问题或需要进一步的技术支持，请联系 [www.liangbeitang.com]。

## 八、更新日志
### v1.0
- 初始版本发布，支持企业微信扫码登录、部门架构同步和用户信息同步功能。

## 九、贡献者
- [梁北棠 www.liangbeitang.com]
